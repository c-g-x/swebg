import{_ as s,c as n,o as a,e as l}from"./app.28d483b6.js";const F=JSON.parse('{"title":"IBT \u5347\u7EA7\u6D41\u7A0B","description":"","frontmatter":{},"headers":[{"level":2,"title":"pom.xml \u8C03\u6574","slug":"pom-xml-\u8C03\u6574","link":"#pom-xml-\u8C03\u6574","children":[]},{"level":2,"title":"Oracle \u811A\u672C\u8C03\u6574","slug":"oracle-\u811A\u672C\u8C03\u6574","link":"#oracle-\u811A\u672C\u8C03\u6574","children":[{"level":3,"title":"1. Oracle/update_main.bat","slug":"_1-oracle-update-main-bat","link":"#_1-oracle-update-main-bat","children":[]},{"level":3,"title":"2. Oracle/10110/EA_IBT/Update/Init/Update_Log.sql","slug":"_2-oracle-10110-ea-ibt-update-init-update-log-sql","link":"#_2-oracle-10110-ea-ibt-update-init-update-log-sql","children":[]},{"level":3,"title":"3. Oracle/10110/update_main.bat","slug":"_3-oracle-10110-update-main-bat","link":"#_3-oracle-10110-update-main-bat","children":[]}]},{"level":2,"title":"Gauss \u811A\u672C\u8C03\u6574","slug":"gauss-\u811A\u672C\u8C03\u6574","link":"#gauss-\u811A\u672C\u8C03\u6574","children":[{"level":3,"title":"1. Gauss/exec_main/bash/main.sh","slug":"_1-gauss-exec-main-bash-main-sh","link":"#_1-gauss-exec-main-bash-main-sh","children":[]},{"level":3,"title":"2. Gauss/EA_IBT/Update/Init/Update_Log.sql","slug":"_2-gauss-ea-ibt-update-init-update-log-sql","link":"#_2-gauss-ea-ibt-update-init-update-log-sql","children":[]},{"level":3,"title":"3. Gauss/EA_IBT/Init/init_TPF_UPDATE_LOG.sql","slug":"_3-gauss-ea-ibt-init-init-tpf-update-log-sql","link":"#_3-gauss-ea-ibt-init-init-tpf-update-log-sql","children":[]}]}],"relativePath":"spec/ibt-update/index.md"}'),p={name:"spec/ibt-update/index.md"},e=l(`<h1 id="ibt-\u5347\u7EA7\u6D41\u7A0B" tabindex="-1">IBT \u5347\u7EA7\u6D41\u7A0B <a class="header-anchor" href="#ibt-\u5347\u7EA7\u6D41\u7A0B" aria-hidden="true">#</a></h1><p>\u4EE5 1.0.1.9 \u5347\u7EA7 1.0.1.10 \u4E3A\u4F8B</p><h2 id="pom-xml-\u8C03\u6574" tabindex="-1">pom.xml \u8C03\u6574 <a class="header-anchor" href="#pom-xml-\u8C03\u6574" aria-hidden="true">#</a></h2><ol><li><code>ibt/pom.xml</code>, <code>ibt-bootstrap</code>, <code>ibt-dfa-controller</code>, <code>ibt-dfa-facade</code>, <code>ibt-dfa-impl</code>, <code>ibt-dfa-service</code></li></ol><details class="details custom-block"><summary>\u8C03\u6574\u7236\u7EA7\u7248\u672C\u53F7</summary><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">parent</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">com.shine.dfa.ibt</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">ibt-project</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">1.0.1.10</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">relativePath</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">../pom.xml</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">relativePath</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">parent</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></details><ol start="2"><li><code>pom.xml</code></li></ol><details class="details custom-block"><summary>\u8C03\u6574\u4E3B pom \u6587\u4EF6\u4EE5\u4E0B\u90E8\u5206</summary><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">project</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">xmlns</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://maven.apache.org/POM/4.0.0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">         </span><span style="color:#C792EA;">xmlns</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">xsi</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://www.w3.org/2001/XMLSchema-instance</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">xsi</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">schemaLocation</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">&lt;!-- ... --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">com.shine.dfa.ibt</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">ibt-project</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">1.0.1.10</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">packaging</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">pom</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">packaging</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">profiles</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">profile</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">release</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">properties</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ibt.version</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">1.0.1.10</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ibt.version</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#676E95;">&lt;!-- ... --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">properties</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">profile</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">profiles</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">project</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></details><h2 id="oracle-\u811A\u672C\u8C03\u6574" tabindex="-1">Oracle \u811A\u672C\u8C03\u6574 <a class="header-anchor" href="#oracle-\u811A\u672C\u8C03\u6574" aria-hidden="true">#</a></h2><h3 id="_1-oracle-update-main-bat" tabindex="-1">1. <code>Oracle/update_main.bat</code> <a class="header-anchor" href="#_1-oracle-update-main-bat" aria-hidden="true">#</a></h3><p>\u641C\u7D22 <strong>IBT_INSTALL_VERSION</strong>\uFF0C\u8C03\u6574\u4E3A\u5F53\u524D\u9700\u5347\u7EA7\u7684\u7248\u672C\u53F7\uFF081.0.1.10\uFF09</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">    @REM \u672C\u5347\u7EA7\u5305\u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#A6ACCD;">    SET IBT_INSTALL_VERSION=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">E-IBT 1.0.1.10</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    @REM \u83B7\u53D6\u5DF2\u5B89\u88C5\u7684\u5C0F\u4E8E\u5347\u7EA7\u5305\u7248\u672C\u7684\u6700\u65B0\u7248\u672C\u53F7</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u589E\u52A0\u5F53\u524D\u5C0F\u7248\u672C\u5347\u7EA7\u811A\u672C\uFF0810110\uFF09</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#A6ACCD;">:1018</span></span>
<span class="line"><span style="color:#A6ACCD;">@if %ver% geq 1018 goto 1019</span></span>
<span class="line"><span style="color:#A6ACCD;">@ECHO </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u5F00\u59CB1018\u5C0F\u7248\u672C\u5347\u7EA7\u811A\u672C</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">CD %IBT_PATH%\\1018</span></span>
<span class="line"><span style="color:#A6ACCD;">CALL update_main.bat %1 %2 %3</span></span>
<span class="line"><span style="color:#A6ACCD;">@if %ver% geq 1019 goto 10110</span></span>
<span class="line"><span style="color:#A6ACCD;">@ECHO </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u5F00\u59CB1019\u5C0F\u7248\u672C\u5347\u7EA7\u811A\u672C</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">CD %IBT_PATH%\\1019</span></span>
<span class="line"><span style="color:#A6ACCD;">CALL update_main.bat %1 %2 %3</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">:10110</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">@ECHO </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u5F00\u59CB10110\u5C0F\u7248\u672C\u5347\u7EA7\u811A\u672C</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">CD %IBT_PATH%\\10110</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">CALL update_main.bat %1 %2 %3</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_2-oracle-10110-ea-ibt-update-init-update-log-sql" tabindex="-1">2. <code>Oracle/10110/EA_IBT/Update/Init/Update_Log.sql</code> <a class="header-anchor" href="#_2-oracle-10110-ea-ibt-update-init-update-log-sql" aria-hidden="true">#</a></h3><p>\u8DEF\u5F84\u4E2D 10110 \u4E3A\u5F53\u524D\u7248\u672C\u53F7\u53BB\u9664 <code>.</code>\uFF0C\u4F8B\u5982\u5F53\u524D\u4E3A E-IBT 1.0.1.10\uFF0C\u5219\u5BF9\u5E94\u8DEF\u5F84\u4E3A <code>Oracle/10110/xxx</code></p><p>\u4EE5\u4E0B\u5185\u5BB9\u4FEE\u6539\u4E3A\u5F53\u524D\u7248\u672C\u53F7</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#676E95;">--\u4EE5\u4E0B\u8BED\u53E5\u56FA\u5B9A\u653E\u5728\u5347\u7EA7\u811A\u672C\u7684\u6700\u540E</span></span>
<span class="line"><span style="color:#676E95;">--\u589E\u52A0\u5347\u7EA7\u65E5\u5FD7\u8BF4\u660E</span></span>
<span class="line"><span style="color:#F78C6C;">INSERT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">INTO</span><span style="color:#A6ACCD;"> TPF_UPDATE_LOG</span></span>
<span class="line"><span style="color:#A6ACCD;">    (ID, APP_ID, UP_DATE, UP_TIME, UP_VERSION, UP_DESC, NOTE, UP_TYPE)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> S_TPF_UPDATE_LOG.NEXTVAL,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">56</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        TO_CHAR(</span><span style="color:#C792EA;">SYSDATE</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">YYYYMMDD</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">        TO_CHAR(</span><span style="color:#C792EA;">SYSDATE</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">HH24:MI:SS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">),</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">E-IBT 1.0.1.10</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">E-IBT 1.0.1.10 \u5347\u7EA7</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> DUAL;</span></span>
<span class="line"><span style="color:#F78C6C;">COMMIT</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_3-oracle-10110-update-main-bat" tabindex="-1">3. <code>Oracle/10110/update_main.bat</code> <a class="header-anchor" href="#_3-oracle-10110-update-main-bat" aria-hidden="true">#</a></h3><p>\u8C03\u6574\u5BF9\u5E94 E-PBOS-TPF \u7684\u7248\u672C\u4F9D\u8D56\uFF0C\u4F8B\u5982 E-IBT 1.0.1.10 \u7248\u672C\u65F6\uFF0C\u5BF9\u5E94\u7684 E-PBOS-TPF \u7248\u672C\u4E3A <strong>1.0.1.11</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#A6ACCD;">REM</span></span>
<span class="line"><span style="color:#A6ACCD;">REM  %1:\u6570\u636E\u5E93\u5B9E\u4F8B\u540D</span></span>
<span class="line"><span style="color:#A6ACCD;">REM  %2:IBT\u7528\u6237</span></span>
<span class="line"><span style="color:#A6ACCD;">REM  %3:IBT\u7528\u6237\u5BC6\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;">REM  \u8C03\u7528\u4E3E\u4F8B:update_main.bat 10.168.0.93:1521/orcl EA_IBT EA_IBT</span></span>
<span class="line"><span style="color:#A6ACCD;">REM</span></span>
<span class="line"><span style="color:#A6ACCD;">@ECHO OFF</span></span>
<span class="line"><span style="color:#A6ACCD;">SET NLS_LANG=AMERICAN_AMERICA.AL32UTF8</span></span>
<span class="line"><span style="color:#A6ACCD;">SET IBT_SAVE_PATH=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">%CD%</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">@REM ==========================================================</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">CD %IBT_SAVE_PATH%\\COMP_SCRIPT\\E-PBOS-TPF 1.0.1.11</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">@ECHO </span><span style="color:#676E95;">########\u5347\u7EA7E-PBOS-TPF 1.0.1.11 &gt;&gt;%IBT_PATH%\\TPF_UPDATE_MAIN.LOG</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">CALL update_main.bat %1 %2 %3 </span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;">%IBT_PATH%\\TPF_UPDATE_MAIN.LOG</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">@ECHO </span><span style="color:#676E95;">########\u6267\u884C\u7EC4\u4EF6\u5347\u7EA7\u811A\u672C\u7ED3\u675F &gt;&gt;%IBT_PATH%\\TPF_UPDATE_MAIN.LOG</span></span>
<span class="line"><span style="color:#A6ACCD;">@REM ==========================================================</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">@REM ==========================================================</span></span>
<span class="line"><span style="color:#A6ACCD;">@ECHO </span><span style="color:#676E95;">########\u5F00\u59CB\u6267\u884C\u5C0F\u7248\u672C\u5347\u7EA7\u811A\u672C</span></span>
<span class="line"><span style="color:#A6ACCD;">CD %IBT_SAVE_PATH%</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">CALL update_main_table.bat %1 %2 %3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">CALL update_main_init.bat %1 %2 %3</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">@ECHO </span><span style="color:#676E95;">########\u6267\u884C\u5C0F\u7248\u672C\u5347\u7EA7\u811A\u672C\u7ED3\u675F</span></span>
<span class="line"><span style="color:#A6ACCD;">@REM ==========================================================</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="gauss-\u811A\u672C\u8C03\u6574" tabindex="-1">Gauss \u811A\u672C\u8C03\u6574 <a class="header-anchor" href="#gauss-\u811A\u672C\u8C03\u6574" aria-hidden="true">#</a></h2><h3 id="_1-gauss-exec-main-bash-main-sh" tabindex="-1">1. <code>Gauss/exec_main/bash/main.sh</code> <a class="header-anchor" href="#_1-gauss-exec-main-bash-main-sh" aria-hidden="true">#</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">#\u5F00\u59CB\u5B89\u88C5\u7EC4\u4EF61019</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u5F00\u59CB\u5B89\u88C5\u7EC4\u4EF6TPF</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">#exec &quot;$BASE_PATH/../../COMP_SCRIPT/E-PBOS-TPF 1.0.1.9/exec_main/bash/main.sh&quot; $*</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> gsql -d </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_DBNAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -U </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_USERNAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -W </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_PASSWD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -h </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_HOST</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -p </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_PORT</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -f </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">BASE_PATH</span><span style="color:#C3E88D;">/../../COMP_SCRIPT/E-PBOS-TPF 1.0.1.9/exec_update/update_main.sql</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">1&gt;</span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">SH_DIR</span><span style="color:#C3E88D;">/main_tpf.log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">2&gt;</span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">SH_DIR</span><span style="color:#C3E88D;">/main_tpf_error.log</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">#\u5F00\u59CB\u5B89\u88C5\u7EC4\u4EF610110</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u5F00\u59CB\u5B89\u88C5\u7EC4\u4EF6TPF</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">#exec &quot;$BASE_PATH/../../COMP_SCRIPT/E-PBOS-TPF 1.0.1.10/exec_main/bash/main.sh&quot; $*</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> gsql -d </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_DBNAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -U </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_USERNAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -W </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_PASSWD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -h </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_HOST</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -p </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_PORT</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -f </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">BASE_PATH</span><span style="color:#C3E88D;">/../../COMP_SCRIPT/E-PBOS-TPF 1.0.1.10/exec_update/update_main.sql</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">1&gt;</span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">SH_DIR</span><span style="color:#C3E88D;">/main_tpf.log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">2&gt;</span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">SH_DIR</span><span style="color:#C3E88D;">/main_tpf_error.log</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line highlighted"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">#\u5F00\u59CB\u5B89\u88C5\u7EC4\u4EF610111</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u5F00\u59CB\u5B89\u88C5\u7EC4\u4EF6TPF</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">#exec &quot;$BASE_PATH/../../COMP_SCRIPT/E-PBOS-TPF 1.0.1.11/exec_main/bash/main.sh&quot; $*</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> gsql -d </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_DBNAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -U </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_USERNAME</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -W </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_PASSWD</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -h </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_HOST</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -p </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">ARG_PORT</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> -f </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">BASE_PATH</span><span style="color:#C3E88D;">/../../COMP_SCRIPT/E-PBOS-TPF 1.0.1.11/exec_update/update_main.sql</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">1&gt;</span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">SH_DIR</span><span style="color:#C3E88D;">/main_tpf.log</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">2&gt;</span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">SH_DIR</span><span style="color:#C3E88D;">/main_tpf_error.log</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_2-gauss-ea-ibt-update-init-update-log-sql" tabindex="-1">2. <code>Gauss/EA_IBT/Update/Init/Update_Log.sql</code> <a class="header-anchor" href="#_2-gauss-ea-ibt-update-init-update-log-sql" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#676E95;">--\u4EE5\u4E0B\u8BED\u53E5\u56FA\u5B9A\u653E\u5728\u5347\u7EA7\u811A\u672C\u7684\u6700\u540E</span></span>
<span class="line"><span style="color:#676E95;">--\u589E\u52A0\u5347\u7EA7\u65E5\u5FD7\u8BF4\u660E</span></span>
<span class="line"><span style="color:#F78C6C;">INSERT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">INTO</span><span style="color:#A6ACCD;"> ES_TPF.TPF_UPDATE_LOG</span></span>
<span class="line"><span style="color:#A6ACCD;">   (ID, APP_ID, UP_DATE, UP_TIME, UP_VERSION, UP_DESC, NOTE, UP_TYPE)</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> ES_TPF.S_TPF_UPDATE_LOG.NEXTVAL,</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">56</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">       TO_CHAR(</span><span style="color:#C792EA;">SYSDATE</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">YYYYMMDD</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">       TO_CHAR(</span><span style="color:#C792EA;">SYSDATE</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">HH24:MI:SS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">),</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">E-IBT 1.0.1.10</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">E-IBT 1.0.1.10 \u5347\u7EA7</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> DUAL;</span></span>
<span class="line"><span style="color:#F78C6C;">COMMIT</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_3-gauss-ea-ibt-init-init-tpf-update-log-sql" tabindex="-1">3. <code>Gauss/EA_IBT/Init/init_TPF_UPDATE_LOG.sql</code> <a class="header-anchor" href="#_3-gauss-ea-ibt-init-init-tpf-update-log-sql" aria-hidden="true">#</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki has-highlighted-lines"><code><span class="line"><span style="color:#F78C6C;">INSERT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">INTO</span><span style="color:#A6ACCD;"> ES_TPF.TPF_UPDATE_LOG</span></span>
<span class="line"><span style="color:#A6ACCD;">    (ID, APP_ID, UP_DATE, UP_TIME, UP_VERSION, UP_DESC, NOTE, UP_TYPE)</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> ES_TPF.S_TPF_UPDATE_LOG.NEXTVAL,</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">56</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">       TO_CHAR(</span><span style="color:#C792EA;">SYSDATE</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">YYYYMMDD</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">),</span></span>
<span class="line"><span style="color:#A6ACCD;">       TO_CHAR(</span><span style="color:#C792EA;">SYSDATE</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">HH24:MI:SS</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">),</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">E-IBT 1.0.1.10</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">E-IBT 1.0.1.10 \u6807\u51C6\u7248</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> ES_TPF.DUAL;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div>`,27),o=[e];function t(c,r,D,i,C,A){return a(),n("div",null,o)}const b=s(p,[["render",t]]);export{F as __pageData,b as default};
